{"ast":null,"code":"var _jsxFileName = \"/Users/yoonjung/Desktop/UH/asahi/manager/src/route/Hours.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { domain } from \"../config\";\n\nconst Hours = () => {\n  const [schedule, setSchedule] = useState([]);\n  let count = 0;\n  useEffect(() => {\n    fetch(`${domain}admin/hours/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setSchedule(data);\n    });\n    console.log(schedule);\n  }, []);\n\n  function onChangeHandler(event) {\n    let theIndex = event.target.getAttribute(\"akey\");\n    let selectedIndex = schedule[theIndex];\n    selectedIndex[event.target.name] = event.target.value;\n    console.log(`selectedIndex = ${selectedIndex}`);\n    setSchedule(array => {\n      console.log(\"1\", array);\n      array.splice(theIndex, 1, selectedIndex);\n      return [...array];\n    });\n  }\n\n  async function updateHandler() {\n    const doWork = await fetch(`${domain}admin/hours/update`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(schedule)\n    });\n    window.location.reload();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Category Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Open time\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Close time\")), schedule.map(item => {\n    count++;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, item.date), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: count - 1,\n      type: \"text\",\n      name: \"openhour\",\n      value: item.openhour,\n      onChange: onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: count - 1,\n      type: \"text\",\n      name: \"closehour\",\n      value: item.closehour,\n      onChange: onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      akey: count - 1,\n      name: \"status\",\n      value: item.status,\n      onChange: onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: parseInt(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 25\n      }\n    }, \"Open\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: parseInt(0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, \"Closed\"))));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"UPDATE\",\n    onClick: updateHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default Hours;","map":{"version":3,"sources":["/Users/yoonjung/Desktop/UH/asahi/manager/src/route/Hours.js"],"names":["React","useState","useEffect","domain","Hours","schedule","setSchedule","count","fetch","method","mode","cache","credentials","headers","then","res","json","data","console","log","onChangeHandler","event","theIndex","target","getAttribute","selectedIndex","name","value","array","splice","updateHandler","doWork","body","JSON","stringify","window","location","reload","width","map","item","id","date","openhour","closehour","status","parseInt"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { domain } from \"../config\";\n\nconst Hours = () => {\n  const [schedule, setSchedule] = useState([]);\n  let count = 0;\n\n  useEffect(() => {\n    fetch(`${domain}admin/hours/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setSchedule(data);\n      });\n\n    console.log(schedule);\n  }, []);\n\n  function onChangeHandler(event) {\n    let theIndex = event.target.getAttribute(\"akey\");\n    let selectedIndex = schedule[theIndex];\n    selectedIndex[event.target.name] = event.target.value;\n    console.log(`selectedIndex = ${selectedIndex}`)\n    setSchedule((array) => {\n      console.log(\"1\", array);\n      array.splice(theIndex, 1, selectedIndex);\n      return [...array];\n    });\n  }\n\n  async function updateHandler() {\n    const doWork = await fetch(`${domain}admin/hours/update`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(schedule),\n    });\n    window.location.reload();\n  }\n  return (\n    <div>\n      <div>Category Page</div>\n      <div>\n        <form>\n          <table style={{ width: \"100%\" }}>\n            <tbody>\n              <tr>\n                <th></th>\n                <th>Open time</th>\n                <th>Close time</th>\n              </tr>\n              {schedule.map((item) => {\n                count++;\n                return (\n                  <tr key={item.id}>\n                    <td>{item.date}</td>\n                    <td>\n                      <input\n                        akey={count - 1}\n                        type=\"text\"\n                        name=\"openhour\"\n                        value={item.openhour}\n                        onChange={onChangeHandler}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        akey={count - 1}\n                        type=\"text\"\n                        name=\"closehour\"\n                        value={item.closehour}\n                        onChange={onChangeHandler}\n                      />\n                    </td>\n                    <td>\n                      <select\n                        akey={count - 1}\n                        name=\"status\"\n                        value={item.status}\n                        onChange={onChangeHandler}\n                      >\n                        <option value={parseInt(1)}>Open</option>\n                        <option value={parseInt(0)}>Closed</option>\n                      </select>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          <div>\n            <input type=\"button\" value=\"UPDATE\" onClick={updateHandler} />\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Hours;\n"]},"metadata":{},"sourceType":"module"}