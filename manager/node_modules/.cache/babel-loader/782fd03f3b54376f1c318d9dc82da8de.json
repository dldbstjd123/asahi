{"ast":null,"code":"import _toConsumableArray from\"/Users/yoonjung/Desktop/UH/asahi/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/yoonjung/Desktop/UH/asahi/manager/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{domain}from\"../config\";import{useHistory}from\"react-router-dom\";var Menu=function Menu(){var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),list=_useState2[0],setList=_useState2[1];var count=0;function handleChange(event){var indexOfEvent=event.target.getAttribute(\"akey\");console.log(\"indexOfEvent = \".concat(indexOfEvent));var currentObject=list[indexOfEvent];console.log(\"currentObject = \".concat(currentObject));var chosenName=event.target.name;currentObject[chosenName]=event.target.value;//console.log(currentObject)\nsetList(function(array){console.log(\"1\",array);array.splice(indexOfEvent,1,currentObject);return _toConsumableArray(array);});//console.log(list)\n}function goToUpdatePage(event){var item=event.target.getAttribute(\"akey\");console.log(item);history.push(\"/admin/menu_update?item=\".concat(item));}useEffect(function(){fetch(\"\".concat(domain,\"admin/menu/get\"),{method:\"POST\",mode:\"cors\",cache:\"no-cache\",credentials:\"same-origin\",headers:{\"Content-Type\":\"application/json\"}}).then(function(res){return res.json();}).then(function(data){console.log(data);setList(data);});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Menu Page\"),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"table\",{style:{width:\"100%\"}},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"No.\"),/*#__PURE__*/React.createElement(\"th\",null,\"Category\"),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Description\"),/*#__PURE__*/React.createElement(\"th\",null,\"Price\"),/*#__PURE__*/React.createElement(\"th\",null,\"Order\"),/*#__PURE__*/React.createElement(\"th\",null,\"Image\"),/*#__PURE__*/React.createElement(\"th\",null,\"Active\"),/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null)),list.map(function(item){count++;return/*#__PURE__*/React.createElement(\"tr\",{key:item.id},/*#__PURE__*/React.createElement(\"td\",null,count),/*#__PURE__*/React.createElement(\"td\",null,item.categoryName),/*#__PURE__*/React.createElement(\"td\",null,item.name),/*#__PURE__*/React.createElement(\"td\",null,item.description),/*#__PURE__*/React.createElement(\"td\",null,item.price),/*#__PURE__*/React.createElement(\"td\",null,item.sort),/*#__PURE__*/React.createElement(\"td\",null,item.active),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"button\",akey:item.id,onClick:goToUpdatePage,value:\"Update\"})),/*#__PURE__*/React.createElement(\"td\",null,\"Delete\"));}))))));};export default Menu;","map":{"version":3,"sources":["/Users/yoonjung/Desktop/UH/asahi/manager/src/route/Menu.js"],"names":["React","useState","useEffect","domain","useHistory","Menu","history","list","setList","count","handleChange","event","indexOfEvent","target","getAttribute","console","log","currentObject","chosenName","name","value","array","splice","goToUpdatePage","item","push","fetch","method","mode","cache","credentials","headers","then","res","json","data","width","map","id","categoryName","description","price","sort","active"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { domain } from \"../config\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Menu = () => {\n  const history = useHistory();\n  const [list, setList] = useState([]);\n  let count = 0;\n\n  function handleChange(event) {\n    let indexOfEvent = event.target.getAttribute(\"akey\");\n    console.log(`indexOfEvent = ${indexOfEvent}`);\n    let currentObject = list[indexOfEvent];\n    console.log(`currentObject = ${currentObject}`);\n    let chosenName = event.target.name;\n    currentObject[chosenName] = event.target.value;\n    //console.log(currentObject)\n    setList((array) => {\n      console.log(\"1\", array);\n      array.splice(indexOfEvent, 1, currentObject);\n      return [...array];\n    });\n    //console.log(list)\n  }\n\n  function goToUpdatePage(event){\n    let item = event.target.getAttribute(\"akey\");\n    console.log(item)\n    history.push(`/admin/menu_update?item=${item}`)\n  }\n  useEffect(() => {\n    fetch(`${domain}admin/menu/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setList(data);\n      });\n  }, []);\n  return (\n    <div>\n      <div>Menu Page</div>\n      <div>\n        <form>\n          <table style={{ width: \"100%\" }}>\n            <tbody>\n              <tr>\n                <th>No.</th>\n                <th>Category</th>\n                <th>Name</th>\n                <th>Description</th>\n                <th>Price</th>\n                <th>Order</th>\n                <th>Image</th>\n                <th>Active</th>\n                <th></th>\n                <th></th>\n              </tr>\n              {list.map((item) => {\n                count ++\n                return (\n                  <tr key={item.id}>\n                    <td>{count}</td>\n                    <td>{item.categoryName}</td>\n                    <td>{item.name}</td>\n                    <td>{item.description}</td>\n                    <td>{item.price}</td>\n                    <td>{item.sort}</td>\n                    <td>{item.active}</td>\n                    <td><input type=\"button\" akey={item.id} onClick={goToUpdatePage} value=\"Update\"/></td>\n                    <td>Delete</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;\n"]},"metadata":{},"sourceType":"module"}