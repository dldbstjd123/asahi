{"ast":null,"code":"var _jsxFileName = \"/Users/yoonjung/Desktop/UH/asahi/manager/src/route/Category.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { domain } from \"../config\";\n\nconst Category = () => {\n  const [list, setList] = useState([]);\n  let count = 0;\n\n  function onChangeHandler(event) {\n    let indexOfEvent = event.target.getAttribute(\"akey\");\n    console.log(`indexOfEvent = ${indexOfEvent}`);\n    let currentObject = list[indexOfEvent];\n    console.log(`currentObject = ${currentObject}`);\n    let chosenName = event.target.name;\n    currentObject[chosenName] = event.target.value; //console.log(currentObject)\n\n    setList(array => {\n      console.log(\"1\", array);\n      array.splice(indexOfEvent, 1, currentObject);\n      return [...array];\n    });\n  }\n\n  function updateHandler(event) {\n    let targetOfList = event.target.getAttribute(\"akey\");\n    console.log(list[targetOfList - 1]);\n    fetch(`${domain}admin/category/update`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: list[targetOfList]\n    });\n  }\n\n  function deleteHandler(event) {}\n\n  useEffect(() => {\n    fetch(`${domain}admin/category/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      setList(data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Category Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"No.\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"Order\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  })), list.map(item => {\n    count++;\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }\n    }, item.id), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      akey: count,\n      value: item.name,\n      onChange: onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      akey: count,\n      value: item.order,\n      onChange: onChangeHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      akey: count,\n      value: \"Update\",\n      onClick: updateHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"button\",\n      akey: count,\n      value: \"Delete\",\n      onClick: deleteHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    })));\n  }))))));\n};\n\nexport default Category;","map":{"version":3,"sources":["/Users/yoonjung/Desktop/UH/asahi/manager/src/route/Category.js"],"names":["React","useState","useEffect","domain","Category","list","setList","count","onChangeHandler","event","indexOfEvent","target","getAttribute","console","log","currentObject","chosenName","name","value","array","splice","updateHandler","targetOfList","fetch","method","mode","cache","credentials","headers","body","deleteHandler","then","res","json","data","width","map","item","id","order"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { domain } from \"../config\";\n\nconst Category = () => {\n  const [list, setList] = useState([]);\n  let count = 0\n\n  function onChangeHandler(event) {\n    let indexOfEvent = event.target.getAttribute(\"akey\");\n    console.log(`indexOfEvent = ${indexOfEvent}`);\n    let currentObject = list[indexOfEvent];\n    console.log(`currentObject = ${currentObject}`);\n    let chosenName = event.target.name;\n    currentObject[chosenName] = event.target.value;\n    //console.log(currentObject)\n    setList((array) => {\n      console.log(\"1\", array);\n      array.splice(indexOfEvent, 1, currentObject);\n      return [...array];\n    });\n  }\n\n  function updateHandler(event) {\n    let targetOfList = event.target.getAttribute(\"akey\")\n    console.log(list[targetOfList-1])\n      \n    fetch(`${domain}admin/category/update`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: list[targetOfList]\n    });\n  }\n\n  function deleteHandler(event) {}\n\n  useEffect(() => {\n    fetch(`${domain}admin/category/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setList(data);\n      });\n  }, []);\n  return (\n    <div>\n      <div>Category Page</div>\n      <div>\n        <form>\n          <table style={{ width: \"100%\" }}>\n            <tbody>\n              <tr>\n                <th>No.</th>\n                <th>Name</th>\n                <th>Order</th>\n                <th></th>\n                <th></th>\n              </tr>\n              {list.map((item) => {\n                  count++\n                return (\n                  <tr key={item.id}>\n                    <td>{item.id}</td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        akey={count}\n                        value={item.name}\n                        onChange={onChangeHandler}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        type=\"text\"\n                        akey={count}\n                        value={item.order}\n                        onChange={onChangeHandler}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        type=\"button\"\n                        akey={count}\n                        value=\"Update\"\n                        onClick={updateHandler}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        type=\"button\"\n                        akey={count}\n                        value=\"Delete\"\n                        onClick={deleteHandler}\n                      />\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n"]},"metadata":{},"sourceType":"module"}