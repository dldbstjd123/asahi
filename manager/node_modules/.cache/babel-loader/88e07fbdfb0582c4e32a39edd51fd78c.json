{"ast":null,"code":"var _jsxFileName = \"/Users/yoonjung/Desktop/UH/asahi/manager/src/route/MenuUpdate.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { domain } from \"../config\";\n\nconst MenuUpdate = props => {\n  const history = useHistory();\n  const location = useLocation();\n  const [list, setList] = useState([]);\n  const [categoryOptions, setCategoryOptions] = useState([]);\n  let count = 0;\n\n  function handleChange(event) {\n    let indexOfEvent = event.target.getAttribute(\"akey\");\n    console.log(`indexOfEvent = ${indexOfEvent}`);\n    let currentObject = list[indexOfEvent];\n    console.log(`currentObject = ${currentObject}`);\n    let chosenName = event.target.name;\n    currentObject[chosenName] = event.target.value; //console.log(currentObject)\n\n    setList(array => {\n      console.log(\"1\", array);\n      array.splice(indexOfEvent, 1, currentObject);\n      return [...array];\n    }); //console.log(list)\n  }\n\n  useEffect(() => {\n    let item = props.match;\n    console.log(`location = ${location.search}`);\n\n    for (let key in location) {\n      console.log(`location = ${location[key]}, key = ${key}`);\n    }\n\n    fetch(`${domain}admin/menu_update/get?item=${item}`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setList(data);\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${domain}admin/category/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(`categoryOptions = ${categoryOptions}`);\n      setCategoryOptions(data);\n      console.log(`categoryOptions = ${categoryOptions}`);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, \"Menu Update Page\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"No.\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Order\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"Active\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })), list.map(item => {\n    let activeSelect = \"\";\n\n    if (item.active) {\n      activeSelect = /*#__PURE__*/React.createElement(\"select\", {\n        akey: item.id,\n        name: \"active\",\n        onChange: handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 23\n        }\n      }, \"yes\"), /*#__PURE__*/React.createElement(\"option\", {\n        value: \"false\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 23\n        }\n      }, \"No\"));\n    } else {\n      activeSelect = /*#__PURE__*/React.createElement(\"select\", {\n        akey: item.id,\n        name: \"active\",\n        onChange: handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 23\n        }\n      }, \"yes\"), /*#__PURE__*/React.createElement(\"option\", {\n        selected: true,\n        value: \"false\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 23\n        }\n      }, \"No\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }\n    }, item.count), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      akey: item.id,\n      name: \"category\",\n      onChange: handleChange,\n      value: item.category,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 23\n      }\n    }, categoryOptions.map(array => {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: array.id,\n        value: array.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, array.name);\n    }))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: item.id,\n      type: \"text\",\n      name: \"name\",\n      required: true,\n      value: item.name,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: item.id,\n      type: \"text\",\n      name: \"description\",\n      required: true,\n      value: item.description,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: item.id,\n      type: \"text\",\n      name: \"price\",\n      required: true,\n      value: item.price,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: item.id,\n      type: \"text\",\n      name: \"order\",\n      required: true,\n      value: item.order,\n      onChange: handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      akey: item.id,\n      type: \"file\",\n      name: \"image\",\n      onChange: event => {\n        console.log(event.target.files[0].name);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      akey: item.id,\n      name: \"active\",\n      onChange: handleChange,\n      value: item.active,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }, \"yes\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 25\n      }\n    }, \"No\"))), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, \"Update\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, \"Delete\"));\n  }))))));\n};\n\nexport default MenuUpdate;","map":{"version":3,"sources":["/Users/yoonjung/Desktop/UH/asahi/manager/src/route/MenuUpdate.js"],"names":["React","useState","useEffect","useHistory","useLocation","domain","MenuUpdate","props","history","location","list","setList","categoryOptions","setCategoryOptions","count","handleChange","event","indexOfEvent","target","getAttribute","console","log","currentObject","chosenName","name","value","array","splice","item","match","search","key","fetch","method","mode","cache","credentials","headers","then","res","json","data","width","map","activeSelect","active","id","category","description","price","order","files"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,kBAAxC;AACA,SAASC,MAAT,QAAuB,WAAvB;;AAEA,MAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5B,QAAMC,OAAO,GAAGL,UAAU,EAA1B;AACA,QAAMM,QAAQ,GAAGL,WAAW,EAA5B;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,eAAD,EAAkBC,kBAAlB,IAAwCZ,QAAQ,CAAC,EAAD,CAAtD;AACA,MAAIa,KAAK,GAAG,CAAZ;;AAEA,WAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,QAAIC,YAAY,GAAGD,KAAK,CAACE,MAAN,CAAaC,YAAb,CAA0B,MAA1B,CAAnB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAa,kBAAiBJ,YAAa,EAA3C;AACA,QAAIK,aAAa,GAAGZ,IAAI,CAACO,YAAD,CAAxB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAa,mBAAkBC,aAAc,EAA7C;AACA,QAAIC,UAAU,GAAGP,KAAK,CAACE,MAAN,CAAaM,IAA9B;AACAF,IAAAA,aAAa,CAACC,UAAD,CAAb,GAA4BP,KAAK,CAACE,MAAN,CAAaO,KAAzC,CAN2B,CAO3B;;AACAd,IAAAA,OAAO,CAAEe,KAAD,IAAW;AACjBN,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBK,KAAjB;AACAA,MAAAA,KAAK,CAACC,MAAN,CAAaV,YAAb,EAA2B,CAA3B,EAA8BK,aAA9B;AACA,aAAO,CAAC,GAAGI,KAAJ,CAAP;AACD,KAJM,CAAP,CAR2B,CAa3B;AACD;;AACDxB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI0B,IAAI,GAAGrB,KAAK,CAACsB,KAAjB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAa,cAAaZ,QAAQ,CAACqB,MAAO,EAA1C;;AACA,SAAI,IAAIC,GAAR,IAAetB,QAAf,EAAwB;AACpBW,MAAAA,OAAO,CAACC,GAAR,CAAa,cAAaZ,QAAQ,CAACsB,GAAD,CAAM,WAAUA,GAAI,EAAtD;AACH;;AACDC,IAAAA,KAAK,CAAE,GAAE3B,MAAO,8BAA6BuB,IAAK,EAA7C,EAAgD;AACnDK,MAAAA,MAAM,EAAE,MAD2C;AAEnDC,MAAAA,IAAI,EAAE,MAF6C;AAGnDC,MAAAA,KAAK,EAAE,UAH4C;AAInDC,MAAAA,WAAW,EAAE,aAJsC;AAKnDC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAL0C,KAAhD,CAAL,CASGC,IATH,CASSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EATjB,EAUGF,IAVH,CAUSG,IAAD,IAAU;AACdrB,MAAAA,OAAO,CAACC,GAAR,CAAYoB,IAAZ;AACA9B,MAAAA,OAAO,CAAC8B,IAAD,CAAP;AACD,KAbH;AAcD,GApBQ,EAoBN,EApBM,CAAT;AAsBAvC,EAAAA,SAAS,CAAC,MAAM;AACd8B,IAAAA,KAAK,CAAE,GAAE3B,MAAO,oBAAX,EAAgC;AACnC4B,MAAAA,MAAM,EAAE,MAD2B;AAEnCC,MAAAA,IAAI,EAAE,MAF6B;AAGnCC,MAAAA,KAAK,EAAE,UAH4B;AAInCC,MAAAA,WAAW,EAAE,aAJsB;AAKnCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAL0B,KAAhC,CAAL,CASGC,IATH,CASSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EATjB,EAUGF,IAVH,CAUSG,IAAD,IAAU;AACdrB,MAAAA,OAAO,CAACC,GAAR,CAAa,qBAAoBT,eAAgB,EAAjD;AACAC,MAAAA,kBAAkB,CAAC4B,IAAD,CAAlB;AACArB,MAAAA,OAAO,CAACC,GAAR,CAAa,qBAAoBT,eAAgB,EAAjD;AACD,KAdH;AAeD,GAhBQ,EAgBN,EAhBM,CAAT;AAiBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,KAAK,EAAE;AAAE8B,MAAAA,KAAK,EAAE;AAAT,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARF,eASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,CADF,EAaGhC,IAAI,CAACiC,GAAL,CAAUf,IAAD,IAAU;AAClB,QAAIgB,YAAY,GAAG,EAAnB;;AACA,QAAIhB,IAAI,CAACiB,MAAT,EAAiB;AACfD,MAAAA,YAAY,gBACV;AACE,QAAA,IAAI,EAAEhB,IAAI,CAACkB,EADb;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,QAAQ,EAAE/B,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,eAME;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CADF;AAUD,KAXD,MAWO;AACL6B,MAAAA,YAAY,gBACV;AACE,QAAA,IAAI,EAAEhB,IAAI,CAACkB,EADb;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,QAAQ,EAAE/B,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAKE;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALF,eAME;AAAQ,QAAA,QAAQ,MAAhB;AAAiB,QAAA,KAAK,EAAC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,CADF;AAYD;;AACD,wBACE;AAAI,MAAA,GAAG,EAAEa,IAAI,CAACkB,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKlB,IAAI,CAACd,KAAV,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEc,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,QAAQ,EAAE/B,YAHZ;AAIE,MAAA,KAAK,EAAEa,IAAI,CAACmB,QAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMGnC,eAAe,CAAC+B,GAAhB,CAAqBjB,KAAD,IAAW;AAC9B,0BACE;AAAQ,QAAA,GAAG,EAAEA,KAAK,CAACoB,EAAnB;AAAuB,QAAA,KAAK,EAAEpB,KAAK,CAACoB,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGpB,KAAK,CAACF,IADT,CADF;AAKD,KANA,CANH,CADF,CAFF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEI,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,KAAK,EAAElB,IAAI,CAACJ,IALd;AAME,MAAA,QAAQ,EAAET,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAlBF,eA4BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEa,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,IAAI,EAAC,aAHP;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,KAAK,EAAElB,IAAI,CAACoB,WALd;AAME,MAAA,QAAQ,EAAEjC,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA5BF,eAsCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEa,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,KAAK,EAAElB,IAAI,CAACqB,KALd;AAME,MAAA,QAAQ,EAAElC,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAtCF,eAgDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEa,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,QAAQ,MAJV;AAKE,MAAA,KAAK,EAAElB,IAAI,CAACsB,KALd;AAME,MAAA,QAAQ,EAAEnC,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CAhDF,eA0DE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEa,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,QAAQ,EAAG9B,KAAD,IAAW;AACnBI,QAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACE,MAAN,CAAaiC,KAAb,CAAmB,CAAnB,EAAsB3B,IAAlC;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CA1DF,eAoEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,IAAI,EAAEI,IAAI,CAACkB,EADb;AAEE,MAAA,IAAI,EAAC,QAFP;AAGE,MAAA,QAAQ,EAAE/B,YAHZ;AAIE,MAAA,KAAK,EAAEa,IAAI,CAACiB,MAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAME;AAAQ,MAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aANF,eAOE;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPF,CADF,CApEF,eA+EE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA/EF,eAgFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhFF,CADF;AAoFD,GA/GA,CAbH,CADF,CADF,CADF,CAFF,CADF;AAyID,CAtMD;;AAwMA,eAAevC,UAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { domain } from \"../config\";\n\nconst MenuUpdate = (props) => {\n  const history = useHistory();\n  const location = useLocation();\n  const [list, setList] = useState([]);\n  const [categoryOptions, setCategoryOptions] = useState([]);\n  let count = 0;\n\n  function handleChange(event) {\n    let indexOfEvent = event.target.getAttribute(\"akey\");\n    console.log(`indexOfEvent = ${indexOfEvent}`);\n    let currentObject = list[indexOfEvent];\n    console.log(`currentObject = ${currentObject}`);\n    let chosenName = event.target.name;\n    currentObject[chosenName] = event.target.value;\n    //console.log(currentObject)\n    setList((array) => {\n      console.log(\"1\", array);\n      array.splice(indexOfEvent, 1, currentObject);\n      return [...array];\n    });\n    //console.log(list)\n  }\n  useEffect(() => {\n    let item = props.match;\n    console.log(`location = ${location.search}`)\n    for(let key in location){\n        console.log(`location = ${location[key]}, key = ${key}`)\n    }\n    fetch(`${domain}admin/menu_update/get?item=${item}`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data);\n        setList(data);\n      });\n  }, []);\n\n  useEffect(() => {\n    fetch(`${domain}admin/category/get`, {\n      method: \"POST\",\n      mode: \"cors\",\n      cache: \"no-cache\",\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(`categoryOptions = ${categoryOptions}`);\n        setCategoryOptions(data);\n        console.log(`categoryOptions = ${categoryOptions}`);\n      });\n  }, []);\n  return (\n    <div>\n      <div>Menu Update Page</div>\n      <div>\n        <form>\n          <table style={{ width: \"100%\" }}>\n            <tbody>\n              <tr>\n                <th>No.</th>\n                <th>Category</th>\n                <th>Name</th>\n                <th>Description</th>\n                <th>Price</th>\n                <th>Order</th>\n                <th>Image</th>\n                <th>Active</th>\n                <th></th>\n                <th></th>\n              </tr>\n              {list.map((item) => {\n                let activeSelect = \"\";\n                if (item.active) {\n                  activeSelect = (\n                    <select\n                      akey={item.id}\n                      name=\"active\"\n                      onChange={handleChange}\n                    >\n                      <option value=\"true\">yes</option>\n                      <option value=\"false\">No</option>\n                    </select>\n                  );\n                } else {\n                  activeSelect = (\n                    <select\n                      akey={item.id}\n                      name=\"active\"\n                      onChange={handleChange}\n                    >\n                      <option value=\"true\">yes</option>\n                      <option selected value=\"false\">\n                        No\n                      </option>\n                    </select>\n                  );\n                }\n                return (\n                  <tr key={item.id}>\n                    <td>{item.count}</td>\n                    <td>\n                      <select\n                        akey={item.id}\n                        name=\"category\"\n                        onChange={handleChange}\n                        value={item.category}\n                      >\n                        {categoryOptions.map((array) => {\n                          return (\n                            <option key={array.id} value={array.id}>\n                              {array.name}\n                            </option>\n                          );\n                        })}\n                      </select>\n                    </td>\n                    <td>\n                      <input\n                        akey={item.id}\n                        type=\"text\"\n                        name=\"name\"\n                        required\n                        value={item.name}\n                        onChange={handleChange}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        akey={item.id}\n                        type=\"text\"\n                        name=\"description\"\n                        required\n                        value={item.description}\n                        onChange={handleChange}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        akey={item.id}\n                        type=\"text\"\n                        name=\"price\"\n                        required\n                        value={item.price}\n                        onChange={handleChange}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        akey={item.id}\n                        type=\"text\"\n                        name=\"order\"\n                        required\n                        value={item.order}\n                        onChange={handleChange}\n                      />\n                    </td>\n                    <td>\n                      <input\n                        akey={item.id}\n                        type=\"file\"\n                        name=\"image\"\n                        onChange={(event) => {\n                          console.log(event.target.files[0].name);\n                        }}\n                      />\n                    </td>\n                    <td>\n                      <select\n                        akey={item.id}\n                        name=\"active\"\n                        onChange={handleChange}\n                        value={item.active}\n                      >\n                        <option value=\"true\">yes</option>\n                        <option value=\"false\">No</option>\n                      </select>\n                    </td>\n                    <td>Update</td>\n                    <td>Delete</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default MenuUpdate;\n"]},"metadata":{},"sourceType":"module"}